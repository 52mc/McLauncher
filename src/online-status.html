<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
</head>
<html>
  <body>
    <script>
      var electron = require('electron');
      var ipcRenderer = electron.ipcRenderer;
      var netStatus = function() {
        var online = navigator.onLine;
        // 弹出网络状态改变提示
        new Notification('消息', {
          body: '网络已'+ ( online ? '连接' : '断开' )
        });
        // 向主进程发送网络状态改变通知
        ipcRenderer.send('online-status-changed', online ? 'online' : 'offline');
        online = null;
      };
      window.addEventListener('online',  netStatus);
      window.addEventListener('offline',  netStatus);
    </script>
  </body>
</html>
